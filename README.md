# 개발 일지

1. 부트스트랩과 바닐라 CSS
    - 배경 : 원래는 온전히 부트스트랩으로 작성할 예정이었다.
    - 문제 : 부트스트랩의 디자인에서 세부적인 수정이 매우 번거롭다는 내용을 인지.
    - 해결방안 : 바닐라 CSS를 통해서 작업하는 방안을 선택. => 이에 따라 기존 CSS를 전부 수정하는 작업을 진행.

2. AWS를 이용한 서버 열기
    - 배경 : 기존에 localhost에서 진행하던 개발을, 이제 AWS로 옮기는 작업을 진행
    - 문제 : npm start를 하려고 했으나, permission denied 오류가 발생했다.
    - 해결방안 : sudo chmod +x node_modules/.bin/react-scripts 명령어를 통해 react에게 node_modules에 대한 권한을 부여해야한다.

3. IP주소대신 도메인으로 변경
    - 방법 :
        1. AWS에서 서비스에서 Route 53으로 이동
        2. 호스팅 영역으로 들어가서 호스팅 영역 생성
        3. 유형 A는 레코드 이름을 IP주소에 연결하는 역할
        4. 유형 CNAME은 www를 붙이는 등 여러 경우 정상적으로 올 수 있게 해주는 역할
        5. 유형 NS는 Name Server로, 여러 네임서버에 우리의 라우트 상황을 인지할 수 있도록 해준다.
            => 즉, 이 NS는 내가 도메인을 구입했던 곳에 네임서버라고 되어있는 곳에 입력해야한다.
        6. 위 과정을 거치면 정상적으로 도메인을 IP로 연결할 수 있다.

4. npm start시 포트 변경
    - 배경 : react-app은 기본적으로 3000번포트를 사용한다. 이를 HTTP인 80번 포트로 변경하고자 한다.
    - 문제 : local환경에서는 80번 포트로 잘 변경 되었으나, AWS기기에서는 3000으로 열렸다.
    - 해결방안 : .env파일로 강제적으로 포트를 변경하는 경우 문제가 발생했던 것이다. package.json파일에서 "scripts"안에 "start": "export PORT=80 && react-scripts start"로 변경하니 정상적으로 실행되었다.

5. sudo su
    - 배경 : 4번을 수행하고 문제 없이 해결 된 듯 했다.
    - 문제 : 하지만, 브라우저에서 접속이 불가하는 문제가 발생했다.
    - 해결방안 : sudo su는 권한을 모두 부여하는 행위로, 사실 적절한 행동은 아니지만, sudo su 이후, git의 내용을 clone할 폴더를 생성하고, clone한 이후, npm start를 하니, 문제 없이 실행되고, 브라우저에서도 접속 가능했다.
    - 추정 : 1024번 이하의 포트는 기기의 소유자만 사용할 수 있는 포트이므로 그냥 일반적으로 접속한 경우 사용할 수 없으므로, 오류가 발생하고 랜덤으로 매우 큰 포트를 부여했다. 그래서 sudo su를 통해 권한을 부여해서, 1024번 이하의 포트를 문제 없이 사용할 수 있도록 한 것이다.
    - 더 좋은 방안 : sudo su는 모든 권한을 부여해버리기 때문에 예상치 못한 문제가 발생할 수 있다. 그러므로, 포트 번호만 국소적으로 허용할 수 있는 명령어를 찾을 필요가 있다고 느꼈다.